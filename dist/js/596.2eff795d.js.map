{"version":3,"file":"js/596.2eff795d.js","mappings":"yPACOA,MAAM,O,UACTC,EAAAA,EAAAA,IAES,UAFDD,MAAM,UAAQ,EACpBC,EAAAA,EAAAA,IAA+B,MAA3BD,MAAM,SAAQ,cAAQ,K,GAMpBA,MAAM,U,GACXA,MAAM,kB,UACTC,EAAAA,EAAAA,IAA2B,SAAxB,mBAAoB,K,GAClBD,MAAM,c,uGAXbE,EAAAA,EAAAA,IAoBM,MApBNC,EAoBM,CAnBJC,GAGAH,EAAAA,EAAAA,IAEM,aADNI,EAAAA,EAAAA,IAAiBC,MAGjBL,EAAAA,EAAAA,IAUK,SAVLM,EAUK,EATPN,EAAAA,EAAAA,IAQM,MARNO,EAQM,CAPJC,GACAR,EAAAA,EAAAA,IAIM,MAJNS,EAIM,EAHJL,EAAAA,EAAAA,IAA+DM,EAAA,CAAlDC,GAAG,SAASZ,MAAM,e,CAbrCa,SAAAC,EAAAA,EAAAA,KAamD,IAAI,EAbvDC,EAAAA,EAAAA,IAamD,WAbnDC,EAAA,KAcMX,EAAAA,EAAAA,IAAiEM,EAAA,CAApDC,GAAG,WAAWZ,MAAM,e,CAdvCa,SAAAC,EAAAA,EAAAA,KAcqD,IAAI,EAdzDC,EAAAA,EAAAA,IAcqD,WAdrDC,EAAA,KAeMX,EAAAA,EAAAA,IAAiEM,EAAA,CAApDC,GAAG,WAAWZ,MAAM,e,CAfvCa,SAAAC,EAAAA,EAAAA,KAeqD,IAAI,EAfzDC,EAAAA,EAAAA,IAeqD,WAfrDC,EAAA,W,wFCCOhB,MAAM,mB,GACJA,MAAM,a,GACJA,MAAM,c,UACTC,EAAAA,EAAAA,IAAW,UAAP,MAAE,K,GAECD,MAAM,Y,UAETC,EAAAA,EAAAA,IAAkB,aAAX,OAAG,K,GAEPD,MAAM,Y,UAETC,EAAAA,EAAAA,IAAiB,aAAV,MAAE,K,UAEXA,EAAAA,EAAAA,IAAmD,UAA3CgB,KAAK,SAASjB,MAAM,aAAY,MAAE,K,GAdpDkB,IAAA,EAgBiClB,MAAM,S,GAhBvCkB,IAAA,EAqBiClB,MAAM,iB,GAC5BA,MAAM,iB,GACJA,MAAM,gB,UACTC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,eAAc,MAAE,K,UAG9BC,EAAAA,EAAAA,IAEM,OAFDD,MAAM,cAAY,EACrBC,EAAAA,EAAAA,IAAsB,SAAnB,qBAAe,K,0EA3B1BC,EAAAA,EAAAA,IA+BM,MA/BNC,EA+BM,EA9BJF,EAAAA,EAAAA,IAiBM,MAjBNG,EAiBM,EAhBJH,EAAAA,EAAAA,IAeM,MAfNM,EAeM,CAdJC,GACAP,EAAAA,EAAAA,IAYO,QAZAkB,SAAMC,EAAA,KAAAA,EAAA,IALrBC,EAAAA,EAAAA,KAAA,IAAAC,IAK+BC,EAAAC,OAAAD,EAAAC,SAAAF,IAAK,e,EAC1BrB,EAAAA,EAAAA,IAGM,MAHNQ,EAGM,WAFJR,EAAAA,EAAAA,IAAuD,SAAhDgB,KAAK,OAAOQ,KAAK,OAAOC,SAAA,GAP3C,sBAAAN,EAAA,KAAAA,EAAA,GAAAO,GAO6DC,EAAAH,KAAIE,I,iBAAJC,EAAAH,QACjDf,KAEFT,EAAAA,EAAAA,IAGM,MAHN4B,EAGM,WAFJ5B,EAAAA,EAAAA,IAAmE,SAA5DgB,KAAK,WAAWQ,KAAK,WAAWC,SAAA,GAXnD,sBAAAN,EAAA,KAAAA,EAAA,GAAAO,GAWqEC,EAAAE,SAAQH,I,iBAARC,EAAAE,YACzDC,IAEFC,GACA/B,EAAAA,EAAAA,IAA2D,YAfrEc,EAAAA,EAAAA,IAec,WAAMV,EAAAA,EAAAA,IAA4CM,EAAA,CAA/BC,GAAG,WAAS,CAf7CC,SAAAC,EAAAA,EAAAA,KAe8C,IAAI,EAflDC,EAAAA,EAAAA,IAe8C,WAf9CC,EAAA,MAgBmBY,EAAAK,eAAY,WAArB/B,EAAAA,EAAAA,IAA2D,IAA3DgC,GAA2DC,EAAAA,EAAAA,IAAnBP,EAAAK,cAAY,KAhB9DG,EAAAA,EAAAA,IAAA,gBAqBeR,EAAAS,mBAAgB,WAA3BnC,EAAAA,EAAAA,IAUM,MAVNoC,EAUM,EATJrC,EAAAA,EAAAA,IAQM,MARNsC,EAQM,EAPJtC,EAAAA,EAAAA,IAGM,MAHNuC,EAGM,CAFJC,GACAxC,EAAAA,EAAAA,IAAoE,UAA3DyC,QAAKtB,EAAA,KAAAA,EAAA,OAAAE,IAAEC,EAAAoB,YAAApB,EAAAoB,cAAArB,IAAYtB,MAAM,mBAAkB,OAEtD4C,QA3BRR,EAAAA,EAAAA,IAAA,Q,uBAsCA,GACES,IAAAA,GACE,MAAO,CACLpB,KAAM,GACNK,SAAU,GACVG,aAAc,GACdI,kBAAkB,EAEtB,EACAS,QAAS,CACP,WAAMtB,GACJ,IACE,MAAMuB,EAAW,CACftB,KAAMuB,KAAKvB,KACXK,SAAUkB,KAAKlB,UAGXmB,QAAiBC,EAAAA,EAAMC,KAAK,8BAA+BJ,EAAU,CACzEK,QAAS,CACP,eAAgB,uBAId,MAAEC,EAAK,KAAEC,GAASL,EAASJ,KACjCU,aAAaC,QAAQ,WAAYR,KAAKlB,UAEtCyB,aAAaC,QAAQ,QAASH,GAC9BE,aAAaC,QAAQ,WAAYF,GACjCC,aAAaC,QAAQ,WAAYR,KAAKvB,MAGtCyB,EAAAA,EAAMO,SAASL,QAAQM,OAAO,iBAAmB,UAAUL,IAG3DL,KAAKX,kBAAmB,EACxBsB,YAAW,KACTX,KAAKX,kBAAmB,EACX,YAATiB,EACFN,KAAKY,QAAQC,KAAK,CAAEpC,KAAM,YACR,WAAT6B,EACTN,KAAKY,QAAQC,KAAK,CAAEpC,KAAM,SAE1BuB,KAAKY,QAAQC,KAAK,CAAEpC,KAAM,QAC5B,GACC,IACL,CAAE,MAAOqC,GACPd,KAAKf,aAAe,QAAQ6B,EAAMb,SAAWa,EAAMb,SAASJ,KAAKiB,MAAQA,EAAMC,UAC/EC,QAAQF,MAAM,QAASA,EACzB,CACF,EACAnB,UAAAA,GACEK,KAAKX,kBAAmB,CAC1B,GAEF4B,OAAAA,GACE,MAAMZ,EAAQE,aAAaW,QAAQ,SAC/Bb,IACFH,EAAAA,EAAMO,SAASL,QAAQM,OAAO,iBAAmB,UAAUL,IAE/D,G,UC1FF,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFkBA,GACE1C,KAAK,YACL2C,WAAY,CACVC,eAAcA,IGvBlB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://communityproject/./src/components/Login.vue","webpack://communityproject/./src/components/LoginComponent.vue","webpack://communityproject/./src/components/LoginComponent.vue?29d0","webpack://communityproject/./src/components/Login.vue?38a9"],"sourcesContent":["<template>\r\n  <div class=\"app\">\r\n    <header class=\"header\">\r\n      <h1 class=\"title\">社区消息管理平台</h1>\r\n    </header>\r\n    <div>\r\n    <LoginComponent/>\r\n    </div>\r\n\r\n    <footer class=\"footer\">\r\n  <div class=\"footer-content\">\r\n    <p>&copy; 2024 社区消息管理平台</p>\r\n    <nav class=\"footer-nav\">\r\n      <router-link to=\"/about\" class=\"footer-link\">关于我们</router-link>\r\n      <router-link to=\"/contact\" class=\"footer-link\">联系我们</router-link>\r\n      <router-link to=\"/privacy\" class=\"footer-link\">隐私政策</router-link>\r\n    </nav>\r\n    \r\n  </div>\r\n</footer>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginComponent from '../components/LoginComponent.vue';\r\n\r\nexport default {\r\n  name:'HomeWorld',\r\n  components: {\r\n    LoginComponent\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  font-family: 'Arial', sans-serif;\r\n  margin: 0;\r\n  padding: 0;\r\n  background-color: #f4f4f4;\r\n}\r\n\r\n.app {\r\n  width: 100%; \r\n  padding: 20px; \r\n  box-sizing: border-box; \r\n  background-color: #f4f4f4; \r\n}\r\n\r\n.header {\r\n  color: rgba(8, 115, 215, 0.934);\r\n  padding: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.title {\r\n  font-family: 'Brush Script MT', cursive; \r\n  font-size: 36px;\r\n  margin: 0;\r\n}\r\n\r\n.header nav {\r\n  margin-top: 10px;\r\n}\r\n\r\n.nav-link {\r\n  color: white;\r\n  margin: 0 15px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: #ffdd57; \r\n}\r\n\r\n.main {\r\n  margin-top: 20px;\r\n}\r\n\r\n.content {\r\n  margin-top: 20px;\r\n}\r\n\r\n.footer {\r\n  background-color: #6a78863d; \r\n  padding: 20px 0;\r\n  text-align: center;\r\n  border-top: 1px solid #0a7ced; \r\n}\r\n\r\n.footer-content {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n}\r\n\r\n.footer-nav {\r\n  margin: 10px 0;\r\n}\r\n\r\n.footer-link {\r\n  color: #007bff; \r\n  margin: 0 15px;\r\n  text-decoration: none;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.footer-link:hover {\r\n  color: #0056b3; \r\n}\r\n\r\n.social-links {\r\n  margin-top: 10px;\r\n}\r\n\r\n.social-link {\r\n  color: #333; \r\n  margin: 0 10px;\r\n  text-decoration: none;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.social-link:hover {\r\n  color: #007bff;\r\n}\r\n\r\n/* 媒体查询 */\r\n@media (max-width: 768px) { /* 手机及平板 */\r\n  .header {\r\n    padding: 15px; /* 减少padding */\r\n  }\r\n\r\n  .title {\r\n    font-size: 28px; /* 减小标题字体 */\r\n  }\r\n\r\n  .nav-link {\r\n    margin: 0 10px; /* 减少链接间距 */\r\n  }\r\n\r\n  .footer {\r\n    padding: 15px 0; /* 减少footer的padding */\r\n  }\r\n\r\n  .footer-content {\r\n    padding: 5px; /* 减少footer内容的padding */\r\n  }\r\n\r\n  .footer-link {\r\n    margin: 0 10px; /* 减少footer链接的间距 */\r\n  }\r\n}\r\n\r\n@media (min-width: 769px) and (max-width: 1024px) { /* 平板 */\r\n  .header {\r\n    padding: 20px; /* 中等设备的padding */\r\n  }\r\n\r\n  .title {\r\n    font-size: 32px; /* 中等设备的标题字体 */\r\n  }\r\n}\r\n\r\n@media (min-width: 1025px) { /* 电脑 */\r\n  .header {\r\n    padding: 20px; /* 大屏幕的padding */\r\n  }\r\n\r\n  .title {\r\n    font-size: 36px; /* 大屏幕的标题字体 */\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-box\">\r\n      <div class=\"login-form\">\r\n        <h2>登录</h2>\r\n        <form @submit.prevent=\"login\">\r\n          <div class=\"user-box\">\r\n            <input type=\"text\" name=\"name\" required v-model=\"name\">\r\n            <label>用户名</label>\r\n          </div>\r\n          <div class=\"user-box\">\r\n            <input type=\"password\" name=\"password\" required v-model=\"password\">\r\n            <label>密码</label>\r\n          </div>\r\n          <button type=\"submit\" class=\"login-btn\">登录</button>\r\n          <h5>还没有注册？<router-link to=\"/enroll\"> 去注册</router-link></h5>\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <!-- 成功提示弹窗 -->\r\n    <div v-if=\"showSuccessPopup\" class=\"popup-overlay\">\r\n      <div class=\"popup-content\">\r\n        <div class=\"popup-header\">\r\n          <span class=\"popup-title\">成功</span>\r\n          <button @click=\"closePopup\" class=\"popup-close-btn\">&times;</button>\r\n        </div>\r\n        <div class=\"popup-body\">\r\n          <p>登录成功！正在跳转到主页...</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      password: \"\",\r\n      errorMessage: \"\",\r\n      showSuccessPopup: false\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        const formData = {\r\n          name: this.name,\r\n          password: this.password\r\n        };\r\n\r\n        const response = await axios.post('http://localhost:8090/login', formData, {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        const { token, role } = response.data;\r\n        localStorage.setItem('password', this.password);\r\n        // Store token and user details in localStorage\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('userRole', role);\r\n        localStorage.setItem('username', this.name);\r\n\r\n        // Set Authorization header for future requests\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        \r\n        // Show success popup and redirect after a delay\r\n        this.showSuccessPopup = true;\r\n        setTimeout(() => {\r\n          this.showSuccessPopup = false;\r\n          if (role === 'MANAGER') {\r\n            this.$router.push({ name: 'manager' });\r\n          } else if (role === 'NORMAL') {\r\n            this.$router.push({ name: 'user' });\r\n          } else {\r\n            this.$router.push({ name: 'home' });\r\n          }\r\n        }, 2000); // Delay for the popup to be visible\r\n      } catch (error) {\r\n        this.errorMessage = `登录失败：${error.response ? error.response.data.error : error.message}`;\r\n        console.error('登录失败:', error);\r\n      }\r\n    },\r\n    closePopup() {\r\n      this.showSuccessPopup = false;\r\n    }\r\n  },\r\n  created() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background: linear-gradient(135deg, #00aaff, #00ff88); /* 清新炫酷的渐变背景 */\r\n}\r\n\r\n.login-box {\r\n  width: 400px;\r\n  padding: 40px;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  border-radius: 10px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.login-form h2 {\r\n  margin-bottom: 20px;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.user-box {\r\n  position: relative;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.user-box input {\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  font-size: 16px;\r\n  color: #fff;\r\n  margin-bottom: 30px;\r\n  border: none;\r\n  border-bottom: 1px solid #fff;\r\n  outline: none;\r\n  background: transparent;\r\n}\r\n\r\n.user-box label {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  padding: 10px 0;\r\n  font-size: 16px;\r\n  color: #fff;\r\n  pointer-events: none;\r\n  transition: 0.5s;\r\n}\r\n\r\n.user-box input:focus ~ label,\r\n.user-box input:valid ~ label {\r\n  top: -20px;\r\n  left: 0;\r\n  color: #03e9f4;\r\n  font-size: 12px;\r\n}\r\n\r\n.login-btn {\r\n  background: #03e9f4;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  text-transform: uppercase;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.login-btn:hover {\r\n  background: #039fb4;\r\n}\r\n\r\n/* 弹窗样式 */\r\n.popup-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.popup-content {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  animation: fadeIn 0.3s ease-in-out;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.popup-title {\r\n  font-size: 18px;\r\n  color: #4caf50;\r\n  font-weight: 600;\r\n}\r\n\r\n.popup-close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 24px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.popup-close-btn:hover {\r\n  color: #333;\r\n}\r\n\r\n.popup-body p {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* 媒体查询 */\r\n@media (max-width: 768px) { /* 手机及平板 */\r\n  .login-box {\r\n    width: 90%; /* 更改宽度为90% */\r\n    padding: 20px; /* 减少内边距 */\r\n  }\r\n\r\n  .login-form h2 {\r\n    font-size: 24px; /* 减小标题字体 */\r\n  }\r\n\r\n  .user-box input {\r\n    font-size: 14px; /* 减小输入框字体 */\r\n  }\r\n\r\n  .login-btn {\r\n    padding: 10px; /* 减少按钮内边距 */\r\n  }\r\n}\r\n\r\n@media (min-width: 769px) and (max-width: 1024px) { /* 平板 */\r\n  .login-box {\r\n    width: 80%; /* 中等设备的宽度 */\r\n  }\r\n\r\n  .login-form h2 {\r\n    font-size: 28px; /* 中等设备的标题字体 */\r\n  }\r\n}\r\n\r\n@media (min-width: 1025px) { /* 电脑 */\r\n  .login-box {\r\n    width: 400px; /* 大屏幕的宽度 */\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./LoginComponent.vue?vue&type=template&id=735c8a9a&scoped=true\"\nimport script from \"./LoginComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&lang=js\"\n\nimport \"./LoginComponent.vue?vue&type=style&index=0&id=735c8a9a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-735c8a9a\"]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=75724d53&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=75724d53&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75724d53\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_LoginComponent","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","default","_withCtx","_createTextVNode","_","type","key","onSubmit","_cache","_withModifiers","args","$options","login","name","required","$event","$data","_hoisted_7","password","_hoisted_8","_hoisted_9","errorMessage","_hoisted_10","_toDisplayString","_createCommentVNode","showSuccessPopup","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","onClick","closePopup","_hoisted_15","data","methods","formData","this","response","axios","post","headers","token","role","localStorage","setItem","defaults","common","setTimeout","$router","push","error","message","console","created","getItem","__exports__","components","LoginComponent","render"],"sourceRoot":""}