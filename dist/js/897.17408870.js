"use strict";(self["webpackChunkcommunityproject"]=self["webpackChunkcommunityproject"]||[]).push([[897],{8897:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var l=t(6768),o=t(4373),n=t(1219),r=t(144);const u={class:"job-listing"},s={class:"pagination-container"};var c={__name:"LostFund",setup(e){const a=(0,r.KR)([]),t=(0,r.KR)(""),c=(0,r.KR)(1),i=(0,r.KR)(10),p=(0,l.EW)((()=>{const e=t.value.trim().toLowerCase();return e?a.value.filter((a=>a.author.toLowerCase().includes(e))):a.value})),d=(0,l.EW)((()=>{const e=(c.value-1)*i.value;return p.value.slice(e,e+i.value)})),v=e=>{c.value=e},b=e=>{i.value=e,c.value=1},g=async()=>{try{const e=await o.A.get("http://localhost:8090/lost",{withCredentials:!0,timeout:1e4});e.data?(console.log("获取到的数据:",e.data),a.value=e.data):console.error("响应体为空")}catch(e){console.error("获取职位数据失败:",e.message)}},h=async e=>{try{const t=await o.A.delete(`http://localhost:8090/delf/${e.id}`,{withCredentials:!0,timeout:1e4});if(200===t.status){const t=a.value.indexOf(e);t>-1&&(a.value.splice(t,1),n.nk.success("成功删除"))}}catch(t){console.error("删除职位失败:",t.message),n.nk.error("删除职位失败，请重试。")}};return(0,l.sV)(g),(e,a)=>{const o=(0,l.g2)("el-input"),n=(0,l.g2)("el-table-column"),r=(0,l.g2)("el-button"),g=(0,l.g2)("el-table"),m=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(o,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:"请输入作者关键字",style:{"margin-bottom":"10px"}},null,8,["modelValue"]),(0,l.bF)(g,{data:d.value,style:{width:"100%"}},{default:(0,l.k6)((()=>[(0,l.bF)(n,{label:"职位类型",prop:"type"}),(0,l.bF)(n,{label:"描述",prop:"content"}),(0,l.bF)(n,{label:"作者",prop:"author"}),(0,l.bF)(n,{label:"电话",prop:"phone"}),(0,l.bF)(n,{label:"微信",prop:"wechat"}),(0,l.bF)(n,{label:"发布日期",prop:"date"}),(0,l.bF)(n,{label:"操作"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(r,{type:"danger",size:"mini",onClick:a=>h(e)},{default:(0,l.k6)((()=>[(0,l.eW)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l.Lk)("div",s,[(0,l.bF)(m,{onCurrentChange:v,onSizeChange:b,"current-page":c.value,"page-sizes":[5,10,20],"page-size":i.value,total:p.value.length,layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])])])}}},i=t(1241);const p=(0,i.A)(c,[["__scopeId","data-v-187960a4"]]);var d=p}}]);
//# sourceMappingURL=897.17408870.js.map