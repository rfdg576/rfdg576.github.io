"use strict";(self["webpackChunkcommunityproject"]=self["webpackChunkcommunityproject"]||[]).push([[890],{890:function(e,o,s){s.r(o),s.d(o,{default:function(){return M}});var t=s(6768);const a=e=>((0,t.Qi)("data-v-0ee3a8e2"),e=e(),(0,t.jt)(),e),r={class:"app"},n=a((()=>(0,t.Lk)("header",{class:"header"},[(0,t.Lk)("h1",{class:"title"},"社区消息管理平台")],-1))),l={class:"footer"},p={class:"footer-content"},u=a((()=>(0,t.Lk)("p",null,"© 2024 社区消息管理平台",-1))),c={class:"footer-nav"};function i(e,o,s,a,i,d){const k=(0,t.g2)("EnrollComponent"),m=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",r,[n,(0,t.Lk)("div",null,[(0,t.bF)(k)]),(0,t.Lk)("footer",l,[(0,t.Lk)("div",p,[u,(0,t.Lk)("nav",c,[(0,t.bF)(m,{to:"/about",class:"footer-link"},{default:(0,t.k6)((()=>[(0,t.eW)("关于我们")])),_:1}),(0,t.bF)(m,{to:"/contact",class:"footer-link"},{default:(0,t.k6)((()=>[(0,t.eW)("联系我们")])),_:1}),(0,t.bF)(m,{to:"/privacy",class:"footer-link"},{default:(0,t.k6)((()=>[(0,t.eW)("隐私政策")])),_:1})])])])])}var d=s(5130);const k=e=>((0,t.Qi)("data-v-0096658e"),e=e(),(0,t.jt)(),e),m={class:"container"},v={class:"registration-box"},h={class:"registration-form"},L=k((()=>(0,t.Lk)("h2",null,"注册面板",-1))),b={class:"user-box"},f=k((()=>(0,t.Lk)("label",null,"用户名",-1))),w={class:"user-box"},y=k((()=>(0,t.Lk)("label",null,"密码",-1))),C={class:"user-box select-style"},F=k((()=>(0,t.Lk)("option",{value:"",disabled:"",selected:""},"选择注册身份",-1))),g=k((()=>(0,t.Lk)("option",{value:"NORMAL"},"普通用户",-1))),A=k((()=>(0,t.Lk)("option",{value:"MANAGER"},"管理员",-1))),E=[F,g,A],P=k((()=>(0,t.Lk)("button",{type:"submit",class:"register-btn"},"注册",-1))),_={key:0,class:"popup-overlay"},j={class:"popup-content"},x={class:"popup-header"},S=k((()=>(0,t.Lk)("span",{class:"popup-title"},"成功",-1))),q=k((()=>(0,t.Lk)("div",{class:"popup-body"},null,-1)));function Q(e,o,s,a,r,n){return(0,t.uX)(),(0,t.CE)("div",m,[(0,t.Lk)("div",v,[(0,t.Lk)("div",h,[L,(0,t.Lk)("form",{onSubmit:o[3]||(o[3]=(0,d.D$)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,t.Lk)("div",b,[(0,t.bo)((0,t.Lk)("input",{type:"text",name:"name",required:"","onUpdate:modelValue":o[0]||(o[0]=e=>r.name=e)},null,512),[[d.Jo,r.name]]),f]),(0,t.Lk)("div",w,[(0,t.bo)((0,t.Lk)("input",{type:"password",name:"password",required:"","onUpdate:modelValue":o[1]||(o[1]=e=>r.password=e)},null,512),[[d.Jo,r.password]]),y]),(0,t.Lk)("div",C,[(0,t.bo)((0,t.Lk)("select",{name:"role",required:"","onUpdate:modelValue":o[2]||(o[2]=e=>r.role=e)},E,512),[[d.u1,r.role]])]),P],32)])]),r.showSuccessPopup?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.Lk)("div",j,[(0,t.Lk)("div",x,[S,(0,t.Lk)("button",{onClick:o[4]||(o[4]=(...e)=>n.closePopup&&n.closePopup(...e)),class:"popup-close-btn"},"×")]),q])])):(0,t.Q3)("",!0)])}s(4114);var U=s(4373),V={data(){return{name:"",password:"",role:"",showSuccessPopup:!1}},methods:{submitForm(){const e={name:this.name,password:this.password,role:this.role};U.A.post("http://localhost:8090/enroll",e,{headers:{"Content-Type":"application/json"}}).then((e=>{200===e.status?(this.showSuccessPopup=!0,this.resetForm(),setTimeout((()=>{this.$router.push({name:"login"})}),3e3)):alert("注册失败")})).catch((e=>{console.error("Error during registration:",e),e.response?alert(`注册失败: ${e.response.data.error}`):e.request?alert("请求未得到响应，请检查后端服务是否运行。"):alert("发生错误，请稍后再试。")}))},closePopup(){this.showSuccessPopup=!1},resetForm(){this.name="",this.password="",this.role=""}}},W=s(1241);const X=(0,W.A)(V,[["render",Q],["__scopeId","data-v-0096658e"]]);var $=X,I={name:"AppComponent",components:{EnrollComponent:$}};const J=(0,W.A)(I,[["render",i],["__scopeId","data-v-0ee3a8e2"]]);var M=J}}]);
//# sourceMappingURL=890.36f7940d.js.map