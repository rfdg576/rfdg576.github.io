"use strict";(self["webpackChunkcommunityproject"]=self["webpackChunkcommunityproject"]||[]).push([[11],{2011:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var o=n(6768);const c=t=>((0,o.Qi)("data-v-226c92d0"),t=t(),(0,o.jt)(),t),u={class:"dashboard"},s=c((()=>(0,o.Lk)("h1",null,"网站数据一览表",-1))),r={class:"card-container"};function a(t,e,n,c,a,i){const l=(0,o.g2)("CardComponent");return(0,o.uX)(),(0,o.CE)("div",u,[s,(0,o.Lk)("div",r,[(0,o.bF)(l,{title:"网站注册量",count:a.registeredUsers},null,8,["count"]),(0,o.bF)(l,{title:"志愿者招募信息数量",count:a.volunteerRecruitment},null,8,["count"]),(0,o.bF)(l,{title:"工作招聘数量",count:a.jobPostings},null,8,["count"]),(0,o.bF)(l,{title:"失物招领数量",count:a.lostAndFound},null,8,["count"]),(0,o.bF)(l,{title:"其他信息数量",count:a.otherInfo},null,8,["count"]),(0,o.bF)(l,{title:"反馈信息数",count:a.feedbackCount},null,8,["count"]),(0,o.bF)(l,{title:"紧急通知数量",count:a.emergencyNotices},null,8,["count"]),(0,o.bF)(l,{title:"社区活动数量",count:a.communityEvents},null,8,["count"]),(0,o.bF)(l,{title:"安全专栏数量",count:a.safetyColumns},null,8,["count"])])])}n(4114);var i=n(4373),l=n(4232);const d={class:"card"};function h(t,e,n,c,u,s){return(0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("h2",null,(0,l.v_)(n.title),1),(0,o.Lk)("p",null,(0,l.v_)(n.count),1)])}var m={props:{title:{type:String,required:!0},count:{type:Number,required:!0}}},b=n(1241);const f=(0,b.A)(m,[["render",h],["__scopeId","data-v-71641d70"]]);var g=f,k={components:{CardComponent:g},data(){return{registeredUsers:0,volunteerRecruitment:0,jobPostings:0,lostAndFound:0,otherInfo:0,feedbackCount:0,emergencyNotices:0,communityEvents:0,safetyColumns:0}},mounted(){this.fetchCounts()},methods:{async fetchCounts(){try{const t=localStorage.getItem("token");if(!t)return console.error("No token found. Redirecting to login."),void this.$router.push("/login");i.A.defaults.headers.common["Authorization"]=`Bearer ${t}`;const e=await i.A.get("http://localhost:8090/fcount");this.feedbackCount=e.data.count;const n=await i.A.get("http://localhost:8090/personcount");this.registeredUsers=n.data.count;const o=await i.A.get("http://localhost:8090/messagecount");o.data.forEach((t=>{switch(t.type){case"志愿者招募":this.volunteerRecruitment=t.count;break;case"工作招聘":this.jobPostings=t.count;break;case"失物招领":this.lostAndFound=t.count;break;case"其他事项":this.otherInfo=t.count;break;case"紧急通知":this.emergencyNotices=t.count;break;case"社区活动":this.communityEvents=t.count;break;case"安全专栏":this.safetyColumns=t.count;break;default:break}}))}catch(t){console.error("Error fetching data:",t)}}}};const p=(0,b.A)(k,[["render",a],["__scopeId","data-v-226c92d0"]]);var v=p}}]);
//# sourceMappingURL=11.74e1464c.js.map